(this.webpackJsonptoptrumps=this.webpackJsonptoptrumps||[]).push([[0],{28:function(e){e.exports=JSON.parse('[{"name":"CR90 corvette","hyperdriveRating":2,"length":150,"costInCredits":3500000,"cargoCapacity":3000000},{"name":"Star Destroyer","hyperdriveRating":2,"length":1600,"costInCredits":150000000,"cargoCapacity":36000000},{"name":"Sentinel-class landing craft","hyperdriveRating":1,"length":38,"costInCredits":240000,"cargoCapacity":180000},{"name":"Death Star","hyperdriveRating":4,"length":120000,"costInCredits":1000000000000,"cargoCapacity":1000000000000},{"name":"Millennium Falcon","hyperdriveRating":0.5,"length":34.37,"costInCredits":100000,"cargoCapacity":100000},{"name":"Y-wing","hyperdriveRating":1,"length":14,"costInCredits":134999,"cargoCapacity":110},{"name":"X-wing","hyperdriveRating":1,"length":12.5,"costInCredits":149999,"cargoCapacity":110},{"name":"TIE Advanced x1","hyperdriveRating":1,"length":9.2,"costInCredits":null,"cargoCapacity":150},{"name":"Executor","hyperdriveRating":2,"length":19000,"costInCredits":1143350000,"cargoCapacity":250000000},{"name":"Rebel transport","hyperdriveRating":4,"length":90,"costInCredits":null,"cargoCapacity":19000000},{"name":"Slave 1","hyperdriveRating":3,"length":21.5,"costInCredits":null,"cargoCapacity":70000},{"name":"Imperial shuttle","hyperdriveRating":1,"length":20,"costInCredits":240000,"cargoCapacity":80000},{"name":"EF76 Nebulon-B escort frigate","hyperdriveRating":2,"length":300,"costInCredits":8500000,"cargoCapacity":6000000},{"name":"Calamari Cruiser","hyperdriveRating":1,"length":1200,"costInCredits":104000000,"cargoCapacity":null},{"name":"A-wing","hyperdriveRating":1,"length":9.6,"costInCredits":175000,"cargoCapacity":40},{"name":"B-wing","hyperdriveRating":2,"length":16.9,"costInCredits":220000,"cargoCapacity":45},{"name":"Republic Cruiser","hyperdriveRating":2,"length":115,"costInCredits":null,"cargoCapacity":null},{"name":"Droid control ship","hyperdriveRating":2,"length":3170,"costInCredits":null,"cargoCapacity":4000000000},{"name":"Naboo fighter","hyperdriveRating":1,"length":11,"costInCredits":200000,"cargoCapacity":65},{"name":"Naboo Royal Starship","hyperdriveRating":1.8,"length":76,"costInCredits":null,"cargoCapacity":null},{"name":"Scimitar","hyperdriveRating":1.5,"length":26.5,"costInCredits":55000000,"cargoCapacity":2500000},{"name":"J-type diplomatic barge","hyperdriveRating":0.7,"length":39,"costInCredits":2000000,"cargoCapacity":null},{"name":"AA-9 Coruscant freighter","hyperdriveRating":null,"length":390,"costInCredits":null,"cargoCapacity":null},{"name":"Jedi starfighter","hyperdriveRating":1,"length":8,"costInCredits":180000,"cargoCapacity":60},{"name":"H-type Nubian yacht","hyperdriveRating":0.9,"length":47.9,"costInCredits":null,"cargoCapacity":null},{"name":"Republic Assault ship","hyperdriveRating":0.6,"length":752,"costInCredits":null,"cargoCapacity":11250000},{"name":"Solar Sailer","hyperdriveRating":1.5,"length":15.2,"costInCredits":35700,"cargoCapacity":240},{"name":"Trade Federation cruiser","hyperdriveRating":1.5,"length":1088,"costInCredits":125000000,"cargoCapacity":50000000},{"name":"Theta-class T-2c shuttle","hyperdriveRating":1,"length":18.5,"costInCredits":1000000,"cargoCapacity":50000},{"name":"Republic attack cruiser","hyperdriveRating":1,"length":1137,"costInCredits":59000000,"cargoCapacity":20000000},{"name":"Naboo star skiff","hyperdriveRating":0.5,"length":29.2,"costInCredits":null,"cargoCapacity":null},{"name":"Jedi Interceptor","hyperdriveRating":1,"length":5.47,"costInCredits":320000,"cargoCapacity":60},{"name":"arc-170","hyperdriveRating":1,"length":14.5,"costInCredits":155000,"cargoCapacity":110},{"name":"Banking clan frigte","hyperdriveRating":1,"length":825,"costInCredits":57000000,"cargoCapacity":40000000},{"name":"Belbullab-22 starfighter","hyperdriveRating":6,"length":6.71,"costInCredits":168000,"cargoCapacity":140},{"name":"V-wing","hyperdriveRating":1,"length":7.9,"costInCredits":102500,"cargoCapacity":60}]')},29:function(e,n,t){e.exports=t(42)},34:function(e,n,t){},35:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(23),i=t.n(c),o=(t(34),t(35),t(14)),l=t(2),s=t(11),d=t(1),p=t(4),u=t(5),h=t(9),m={opponents:["Alice",void 0,void 0],user:"me",cardNumber:3},g=r.a.createContext({state:m,setState:function(){console.error("\ud83d\ude15 Settings context setter called before it is initialized")}}),f=function(e){var n=Object(a.useState)(m),t=Object(h.a)(n,2),c={state:t[0],setState:t[1]};return r.a.createElement(g.Provider,{value:c},e.children)},y=function(){return r.a.useContext(g)};function v(){var e=Object(p.a)(["\n  font-size: 1em;\n  height: 100%;\n\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n\n  text-transform: uppercase;\n\n  input {\n    height: 30px;\n  }\n  select {\n    height: 30px;\n    width: 240px;\n    padding: 0 10pt;\n\n    option {\n      padding: 10pt;\n    }\n  }\n  h2 {\n    border: 0;\n    border-bottom: 2px solid white;\n    color: white;\n    font-size: 0.75em;\n    padding-top: 10pt;\n  }\n  .content {\n    height: 100%;\n\n    flex: 1 1;\n  }\n  div.players {\n    padding: 5pt;\n\n    display: flex;\n    justify-content: space-around;\n    align-items: stretch;\n  }\n  .footer {\n    padding: 5pt;\n    flex: 0 1;\n    margin: 0 auto;\n    button {\n      border: 3px solid #d22f27;\n      background: #ea5a47;\n      cursor: pointer;\n      text-transform: uppercase;\n      cursor: pointer;\n      display: block;\n      height: 60px;\n      width: 240px;\n      color: white;\n    }\n  }\n\n  @media (max-width: ",") {\n    div.players {\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: stretch;\n    }\n    .footer {\n      margin: 0;\n\n      button {\n        width: 100%;\n      }\n    }\n  }\n"]);return v=function(){return e},e}function b(){var e=Object(p.a)(["\n  padding-bottom: 10pt;\n  color: white;\n  width: 240px;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  & > .clickable {\n    cursor: pointer;\n  }\n\n  & > .add {\n    height: 40px;\n  }\n\n  @media (max-width: ",") {\n    width: 100%;\n\n    box-sizing: border-box;\n\n    flex-direction: row;\n    justify-content: center;\n    align-items: baseline;\n\n    & > input {\n      flex: 1 0;\n    }\n    & > .add {\n      border: 1px dotted white;\n    }\n\n    & > .add {\n      height: 30px;\n      width: 100%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      * {\n\n      }\n    }\n  }\n    & > label {\n      flex: 0 1;\n      padding: 0 5pt;\n    }\n  }\n"]);return b=function(){return e},e}var x=u.a.div(b(),"620px"),j=u.a.div(v(),"620px"),C=function(){var e=y(),n=e.state,t=e.setState,a=Object(l.f)();return r.a.createElement(j,null,r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,"Opponents:"),r.a.createElement("div",{className:"players them"},n.opponents.map((function(e,a){return void 0!==e?r.a.createElement(x,{key:a},r.a.createElement("input",{id:"input-".concat(a),defaultValue:e,onChange:function(e){e.preventDefault(),function(e,a){var r=n.opponents.map((function(n,t){return t===e?a:n}));t(Object(d.a)(Object(d.a)({},n),{},{opponents:r}))}(a,e.currentTarget.value)}}),r.a.createElement("label",{className:"clickable",htmlFor:"input-".concat(a),onClick:function(e){e.preventDefault(),function(e){var a=n.opponents.map((function(n,t){if(t!==e)return n}));t(Object(d.a)(Object(d.a)({},n),{},{opponents:a}))}(a)}},"remove")):void 0===e?r.a.createElement(x,{onClick:function(e){e.preventDefault(),function(e){var a=n.opponents.map((function(n,t){return t===e?["Alice","Bob","Charley"][t]:n}));t(Object(d.a)(Object(d.a)({},n),{},{opponents:a}))}(a)}},r.a.createElement("div",{className:"add clickable"},r.a.createElement("span",null,"\u2295"),"Add Opponent")):void 0})),n.opponents.length<3&&r.a.createElement(x,{onClick:function(e){e.preventDefault();var a=["Alice","Bob","Charley"][n.opponents.length];t(Object(d.a)(Object(d.a)({},n),{},{opponents:[].concat(Object(s.a)(n.opponents),[a])}))}},r.a.createElement("div",{className:"add clickable"},r.a.createElement("span",null,"\u2295"),"Add Opponent"))),r.a.createElement("h2",null,"your name:"),r.a.createElement("div",{className:"players them"},r.a.createElement(x,null,r.a.createElement("input",{id:"input-me",onChange:function(e){var a;e.preventDefault(),a=e.currentTarget.value,t(Object(d.a)(Object(d.a)({},n),{},{user:a}))},defaultValue:n.user}))),r.a.createElement("h2",null,"settings"),r.a.createElement("select",{onChange:function(e){e.preventDefault(),t(Object(d.a)(Object(d.a)({},n),{},{cardNumber:parseInt(e.currentTarget.value)}))},value:n.cardNumber},r.a.createElement("option",{value:"1"},"1 card"),r.a.createElement("option",{value:"3"},"3 cards"),r.a.createElement("option",{value:"5"},"5 cards"))),r.a.createElement("div",{className:"footer"},r.a.createElement("button",{onClick:function(e){e.preventDefault(),n.opponents.every((function(e){return void 0===e}))?alert("You must select at least one opponent"):a.push("/game")}},"Play Top trumps")))},O=t(27),E=t.n(O),k=function(e){var n=(e.activeIndex+1)%e.players.length,t=e.players[n];return t.hand||0!==t.stack.length?n:(e.activeIndex+2)%e.players.length},I=function(e,n){switch(console.log("State:",e.phase," + ",n.actionType),n.actionType){case"Reset":var t=n.settings.opponents.filter((function(e){return void 0!==e}));return{players:[].concat(Object(s.a)(t.map((function(e){return{name:e,stack:[],nature:"bot"}}))),[{name:n.settings.user,stack:[],nature:"human"}]),leaderIndex:0,activeIndex:0,phase:"clear"};case"TakeTopCard":var a=e.players.every((function(e){return e.hand||0===e.stack.length}));return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(n,t){if(t===e.activeIndex&&void 0===n.hand){var a=n.stack.slice(-1)[0],r=n.stack.slice(0,-1);return Object(d.a)(Object(d.a)({},n),{},{stack:r,hand:a})}return n})),activeIndex:a?e.activeIndex:k(e),phase:a?"closed":"clear"});case"StartLoading":return Object(d.a)(Object(d.a)({},e),{},{phase:"loading"});case"Loaded":return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{stack:n.payload[t]})})),phase:"clear"});case"ShowLeaderHand":return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(n,t){if(t===e.leaderIndex){var a=n.hand;if(!a)throw new Error("Leader has no hand so cannot show it");var r=Object(d.a)(Object(d.a)({},a),{},{open:!0});return Object(d.a)(Object(d.a)({},n),{},{hand:r})}return n})),phase:"one_open"});case"RollSkills":return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(n,t){if(t===e.leaderIndex){var a=n.hand;if(!a)throw new Error("Leader has no hand so cannot roll it");var r=Object(d.a)(Object(d.a)({},a),{},{rolling:!0});return Object(d.a)(Object(d.a)({},n),{},{hand:r})}return n})),phase:"rolling"});case"LetUserSelect":return Object(d.a)(Object(d.a)({},e),{},{phase:"rolling_stopped"});case"Select":return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(n,t){if(t===e.leaderIndex){var a=n.hand;if(!a)throw new Error("Leader has no hand so cannot roll it");var r=Object(d.a)(Object(d.a)({},a),{},{rolling:!1});return Object(d.a)(Object(d.a)({},n),{},{hand:r})}return n})),phase:"selected",activeIndex:k(e),selectedSkill:n.skillIndex});case"ShowHand":var r=Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(n,t){if(t===e.activeIndex){var a=n.hand;if(!a)throw new Error("Active player has no hand so cannot show it");var r=Object(d.a)(Object(d.a)({},a),{},{open:!0});return Object(d.a)(Object(d.a)({},n),{},{hand:r})}return n})),phase:"selected",activeIndex:k(e)});return r.players.every((function(e){return void 0===e.hand||e.hand.open}))&&(r.phase="all_open"),r;case"StopBeforeShowHand":return Object(d.a)(Object(d.a)({},e),{},{phase:"selected_stopped"});case"FindWinner":var c=e.players.map((function(n){if(!n.hand)return 0;switch(e.selectedSkill){case 0:return n.hand.skills.cargoCapacity;case 1:return n.hand.skills.hyperdriveRating;case 2:return n.hand.skills.costInCredits;case 3:return n.hand.skills.length}return 0})),i=function(n,t){for(var a=e.leaderIndex;a<n.length;a++)if(n[a]==t)return a;for(var r=0;r<n.length;r++)if(n[r]==t)return r;throw new Error("Max value not found")}(c,Math.max.apply(Math,Object(s.a)(c))),o=e.players.filter((function(e){return e.hand||e.stack.length>0})).length<2;return Object(d.a)(Object(d.a)({},e),{},{leaderIndex:i,activeIndex:(i+1)%e.players.length,winnerIndex:i,finalWinnerIndex:o?i:void 0});case"GiveHandToWinnerStack":var l=Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(n,t){return t===e.activeIndex?Object(d.a)(Object(d.a)({},n),{},{ghostHand:n.hand,hand:void 0}):n}))}),p=e.players[e.activeIndex].hand,u=p?Object(d.a)(Object(d.a)({},e),{},{players:l.players.map((function(n,t){return t===e.leaderIndex?Object(d.a)(Object(d.a)({},n),{},{stack:[p].concat(Object(s.a)(n.stack))}):n}))}):e,h=u.players.every((function(e){return void 0===e.hand}));return Object(d.a)(Object(d.a)({},u),{},{phase:h?"finalize":"all_open",activeIndex:k(e)});case"StopBeforeEndGame":return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{ghostHand:void 0})})),phase:"finalize_stopped"});case"EndTrick":return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{stack:e.stack.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{open:!1})})),ghostHand:void 0,hand:void 0})})),winnerIndex:void 0,activeIndex:e.leaderIndex,phase:"clear",selectedSkill:void 0});case"EndGame":return Object(d.a)(Object(d.a)({},e),{},{players:e.players.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{ghostHand:void 0,hand:void 0,stack:[]})})),winnerIndex:void 0,activeIndex:e.leaderIndex,phase:"clear",selectedSkill:void 0})}return e},w={players:[{name:"gitanas nauseda",stack:[],nature:"bot"},{name:"celofanas",stack:[],nature:"bot"},{name:"luke 10x",stack:[],nature:"human"}],leaderIndex:2,activeIndex:2,phase:"clear"},S=r.a.createContext({choices:[],setChoices:function(){console.error("\ud83d\ude15 Context setter called before it is initialized")},state:w,dispatch:function(){console.error("\ud83d\ude15 Context dispatch called before it is initialized")}}),R=function(e){var n=Object(a.useState)([]),t=Object(h.a)(n,2),c=t[0],i=t[1],o=Object(a.useReducer)(I,w),l=Object(h.a)(o,2),s=l[0],d=l[1];return r.a.createElement(S.Provider,{value:{choices:c,setChoices:i,state:s,dispatch:d}},e.children)},T=function(){return r.a.useContext(S)};function N(){var e=Object(p.a)(["\n  height: 100%;\n  margin: 1px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n\n  background: #ffeb3b;\n  border: 3px solid #f1b31c;\n  border-radius: 5pt;\n  box-sizing: border-box;\n\n  .name {\n    font-size: 0.75em;\n  }\n  ul.scores {\n    padding-left: 0;\n    margin: 0;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n\n    list-style: none;\n    li.abilityLine {\n      :hover {\n        cursor: pointer;\n      }\n      padding: 10pt;\n      display: flex;\n      &.flash {\n        background: #f1b31c;\n      }\n      &.selected {\n        background: #f1b31c;\n      }\n      .ability {\n        flex: 1;\n        text-align: left;\n      }\n      .value {\n        padding-left: 10pt;\n        text-align: left;\n      }\n    }\n  }\n  @media (max-width: ",") {\n    ul.scores {\n      font-size: 0.75em;\n      display: flex;\n      flex-direction: row;\n      li.abilityLine {\n        flex-direction: column;\n        padding: 5pt;\n        .value {\n          padding-left: 0;\n        }\n      }\n    }\n  }\n"]);return N=function(){return e},e}var L=u.a.div(N(),"620px"),z=function(e){var n=e.card,t=Object(a.useState)(-1),c=Object(h.a)(t,2),i=c[0],o=c[1],l=T(),s=l.state,d=s.selectedSkill,p=s.phase,u=l.choices,m=n.rolling&&void 0===d;Object(a.useEffect)((function(){m?setTimeout((function(){o((i+1)%4)}),200):void 0!==d&&o(-1)}),[i,m,d]);var g="rolling_stopped"===p,f=u.map((function(e){return function(n){null===n||void 0===n||n.preventDefault(),g&&e()}}));return r.a.createElement(L,{className:"card"},r.a.createElement("div",{className:"name"},n.name),r.a.createElement("ul",{className:"scores"},r.a.createElement("li",{className:"abilityLine ".concat(g?"selectable":""," ").concat(0===i?"flash":""," ").concat(0===d?"selected":""),onClick:f[0]},r.a.createElement("span",{className:"ability"},"Cost:"),r.a.createElement("span",{className:"value"},n.skills.costInCredits)),r.a.createElement("li",{className:"abilityLine ".concat(g?"selectable":""," ").concat(1===i?"flash":""," ").concat(1===d?"selected":""),onClick:f[1]},r.a.createElement("span",{className:"ability"},"H-Rating:"),r.a.createElement("span",{className:"value"},n.skills.hyperdriveRating)),r.a.createElement("li",{className:"abilityLine ".concat(g?"selectable":""," ").concat(2===i?"flash":""," ").concat(2===d?"selected":""),onClick:f[2]},r.a.createElement("span",{className:"ability"},"Length:"),r.a.createElement("span",{className:"value"},n.skills.length)),r.a.createElement("li",{className:"abilityLine ".concat(g?"selectable":""," ").concat(3===i?"flash":""," ").concat(3===d?"selected":""),onClick:f[3]},r.a.createElement("span",{className:"ability"},"Cargo:"),r.a.createElement("span",{className:"value"},n.skills.cargoCapacity))))},H=r.a.createContext({isHuman:!0,name:"not set",isWinner:!1,stackLength:0}),B=function(e){return r.a.createElement(H.Provider,{value:e},e.children)};function _(){var e=Object(p.a)(["\n  height: 100%;\n\n  .react-card-flip {\n    height: 100%;\n  }\n\n  .back {\n    animation: "," 0.2s linear;\n    border: 3px solid #61b2e4;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 5pt;\n\n    box-sizing: border-box;\n    background: #92d3f5;\n    .text {\n      text-align: center;\n      color: #fff;\n    }\n  }\n  .active.back {\n    border: 3px solid #d22f27;\n    background: #ea5a47;\n    cursor: pointer;\n  }\n"]);return _=function(){return e},e}function D(){var e=Object(p.a)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]);return D=function(){return e},e}var A=Object(u.b)(D()),W=u.a.div(_(),A),F=function(e){var n=e.card,t=n,a=T().choices,c=r.a.useContext(H).isHuman,i=1===a.length&&c;return r.a.createElement(W,null,r.a.createElement(E.a,{isFlipped:t.open,flipDirection:"horizontal"},r.a.createElement("div",{className:"back ".concat(i?"active":""),onClick:function(e){(e.preventDefault(),i)&&(0,a[0])()}},i&&r.a.createElement("div",{className:"text"},"Show your card!")),r.a.createElement(z,{card:n})))};function G(){var e=Object(p.a)(["\n  margin-top: 5pt;\n  &:first-child {\n    margin-top: 0;\n  }\n\n  height: 100%;\n  .player {\n    &.out {\n      animation: "," 0.2s linear;\n      opacity: 0.5;\n    }\n    &.winner {\n      cursor: pointer;\n    }\n    text-transform: uppercase;\n    border-radius: 5px;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    .ghost {\n      animation: "," 0.2s linear;\n      opacity: 0;\n    }\n    .winner .card .selected {\n      animation: "," 1s linear;\n      animation-iteration-count: infinite;\n    }\n    & > .title {\n      font-size: 0.75em;\n      padding: 6pt 0;\n\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      span.winner {\n        color: #d22f27;\n      }\n      & > .name {\n        text-align: left;\n      }\n      & > .stack::before {\n        content: '\u2a2f ';\n        color: #999;\n      }\n    }\n    background: white;\n    padding: 5pt;\n\n    width: 240px;\n    .player-content {\n      height: 220px;\n      & > div {\n        height: 100%;\n      }\n    }\n    @media (max-width: ",") {\n      width: auto;\n      min-width: 300px;\n      .player-content {\n        height: 100px;\n        .react-card-flip .react-card-back .card {\n          height: 100%;\n        }\n      }\n    }\n  }\n"]);return G=function(){return e},e}function J(){var e=Object(p.a)(["\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0.5;\n  }\n"]);return J=function(){return e},e}function M(){var e=Object(p.a)(["\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n"]);return M=function(){return e},e}function P(){var e=Object(p.a)(["\n  {\n    0% {\n      background: auto;\n    }\n    50% {\n      background: #ea5a47;\n    }\n    100% {\n      background: auto;\n    }\n  }\n"]);return P=function(){return e},e}var U=Object(u.b)(P()),V=Object(u.b)(M()),Y=Object(u.b)(J()),X=u.a.div(G(),Y,V,U,"620px"),$=function(e){var n=T(),t=n.state.phase,a=n.choices,c="finalize_stopped"===t&&e.stackLength>0,i=!e.card&&0===e.stackLength;return r.a.createElement(X,null,r.a.createElement("div",{className:"player ".concat(i?"out":""," ").concat(c?"winner":""),onClick:function(e){(e.stopPropagation(),c)&&(0,a[0])()}},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"name"},e.name),r.a.createElement("div",{className:"stack"},e.stackLength)),r.a.createElement("div",{className:"player-content"},e.card&&r.a.createElement("div",{className:"hand ".concat(e.isWinner?"winner":"")},r.a.createElement(F,{card:e.card})),e.ghostCard&&r.a.createElement("div",{className:"ghost"},r.a.createElement(F,{card:e.ghostCard})))))},q=t(28);function K(){var e=Object(p.a)(["\n  font-size: 1em;\n  height: 100%;\n\n  display: flex;\n  flex-direction: column;\n\n  .content {\n    height: 100%;\n\n    flex: 1 1;\n  }\n  div.players {\n    padding: 5pt;\n\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n\n  .footer {\n    flex: 0 1;\n  }\n\n  @media (max-width: ",") {\n    div.players {\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: stretch;\n    }\n  }\n"]);return K=function(){return e},e}function Q(){var e=Object(p.a)(["\n  background: white;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  text-transform: uppercase;\n  .winner {\n    color: red;\n    flex: 0;\n  }\n"]);return Q=function(){return e},e}var Z=function(e,n){return{name:e.name,card:e.hand,ghostCard:e.ghostHand,stackLength:e.stack.length,isHuman:"human"===e.nature,isWinner:n}},ee=u.a.div(Q()),ne=u.a.div(K(),"620px"),te=function(){var e=y().state,n=T(),t=n.state,c=n.dispatch,i=n.setChoices,l=t.players.slice(0,-1),s=t.players.slice(-1)[0],d=Object(a.useState)(0),p=Object(h.a)(d,2),u=p[0],m=p[1];return Object(a.useEffect)((function(){c({actionType:"Reset",settings:e})}),[e]),Object(a.useEffect)((function(){"loading"===t.phase?setTimeout((function(){for(var n=q.filter((function(e){return e.cargoCapacity&&e.costInCredits&&e.hyperdriveRating&&e.length})).sort((function(){return Math.random()-.5})).map((function(e){return{type:"open",name:e.name,skills:{hyperdriveRating:e.hyperdriveRating,length:e.length,costInCredits:e.costInCredits,cargoCapacity:e.cargoCapacity},open:!1,rolling:!1}})),a=e.cardNumber,r=[],i=0;i<t.players.length;i++){for(var o=[],l=0;l<a;l++)o[l]=n.shift();r[i]=o}c({actionType:"Loaded",payload:r}),m(u+1)}),500):"selected_stopped"===t.phase?i([function(){c({actionType:"ShowHand"}),setTimeout((function(){m(u+1)}),600)}]):"rolling_stopped"===t.phase?i([function(){c({actionType:"Select",skillIndex:0}),setTimeout((function(){m(u+1)}),600)},function(){c({actionType:"Select",skillIndex:1}),setTimeout((function(){m(u+1)}),600)},function(){c({actionType:"Select",skillIndex:2}),setTimeout((function(){m(u+1)}),600)},function(){c({actionType:"Select",skillIndex:3}),setTimeout((function(){m(u+1)}),600)}]):"finalize_stopped"===t.phase?i([function(){c({actionType:"EndGame"}),m(u+1)}]):i([])}),[t.phase]),Object(a.useEffect)((function(){var e=function(e){var n=e.players[e.activeIndex];switch(e.phase){case"clear":return e.players.every((function(e){return!e.hand&&0===e.stack.length}))?{actionType:"StartLoading"}:{actionType:"TakeTopCard"};case"closed":return{actionType:"ShowLeaderHand"};case"one_open":return{actionType:"RollSkills"};case"rolling":return"human"===n.nature?{actionType:"LetUserSelect"}:{actionType:"Select",skillIndex:1};case"selected":return"human"===n.nature?{actionType:"StopBeforeShowHand"}:{actionType:"ShowHand"};case"all_open":return void 0===e.winnerIndex?{actionType:"FindWinner"}:{actionType:"GiveHandToWinnerStack"};case"finalize":return e.players.filter((function(e){return e.stack.length>0||e.hand})).length>1?{actionType:"EndTrick"}:{actionType:"StopBeforeEndGame"}}return{actionType:"Noop"}}(t);if(c(e),"StartLoading"!==e.actionType&&"LetUserSelect"!==e.actionType&&"StopBeforeShowHand"!==e.actionType&&"StopBeforeEndGame"!==e.actionType){var n="RollSkills"===e.actionType?2e3:"FindWinner"===e.actionType?4e3:600;setTimeout((function(){m(u+1)}),n)}}),[u]),"finalize_stopped"===t.phase?r.a.createElement(ee,null,r.a.createElement("div",{className:"winner"},"Winner \ud83c\udf89"),void 0!==t.winnerIndex&&r.a.createElement("div",{className:""},t.players[t.winnerIndex].name),r.a.createElement(o.b,{to:"/"},"Back to settings")):r.a.createElement(ne,null,r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"players them"},l.map((function(e,n){var a=n===t.winnerIndex,c=Z(e,a);return r.a.createElement(B,Object.assign({key:n},c),r.a.createElement($,c))})))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"players us"},r.a.createElement($,Z(s,t.winnerIndex===l.length)))))},ae=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null,r.a.createElement(o.a,{basename:"/toptrumps"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/game"},r.a.createElement(R,null,r.a.createElement(te,null))),r.a.createElement(l.a,{path:"/"},r.a.createElement(C,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.9fabbf0e.chunk.js.map